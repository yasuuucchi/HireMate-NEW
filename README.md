# HireMate

採用管理システム（ATS）のPoCプロジェクト。詳細な仕様は[SPEC.md](./SPEC.md)を参照してください。

## 実装状況

### ✅ 完了した機能

#### 1. 企業情報管理
- **採用要件登録**
  - 職種名、必須スキル、歓迎スキル、経験年数などの登録
  - 一覧表示、編集機能
  - 箇条書き形式でのスキル入力対応
- **カルチャー・バリュー設定**
  - 企業のコアバリューと重要度（0-100%）の登録
  - 一覧表示、編集機能
- **評価基準重みづけ**
  - 4つの評価軸（スキル適合度、カルチャーフィット度、実績度、ポテンシャル）
  - スライダーと数値入力の組み合わせ
  - 合計100%のバリデーション

#### 2. 候補者管理
- **候補者一覧画面**
  - テーブル表示（名前、メール、電話番号、ステータス、スコア）
  - ステータスのカラー表示
  - 詳細・編集リンク
- **候補者登録機能**
  - 基本情報（名前、メール、電話番号）の入力
  - ステータス選択（応募、書類選考、面接など）
  - 職務経歴書のアップロード（PDF、Word形式対応）
  - ファイルサイズ制限（最大5MB）
  - バリデーション機能
- **候補者詳細画面**
  - 基本情報の表示
  - 職務経歴書の表示
  - 要約テキストの表示
  - 編集機能へのリンク
- **候補者編集機能**
  - 基本情報の編集
  - ステータスの変更
  - バリデーション機能

#### 3. 書類解析（職務経歴書要約）
- **AIマイクロサービス**
  - FastAPIによるREST API実装
  - ファイルアップロード処理（PDF/Word対応）
  - MIMEタイプによるファイル形式検証
- **Gemini 2.0-flash**
  - Google Gemini APIによる文書解析
  - カスタマイズされたプロンプトエンジニアリング
  - Pythonによる構造化データ処理
- **データ構造**
  - 要約テキスト
  - 経歴情報（期間、役職、業務内容、実績）
  - JSON形式での構造化データ

#### 4. 自動スコアリング
- **スコアリングロジック**
  - スキル適合度の基本計算
  - カルチャーフィット度の基本計算
  - 実績度の基本計算
  - ポテンシャルの基本計算
- **重み付け計算**
  - 4軸の重みに基づく総合スコアの計算
  - A/B/Cランクの判定
- **APIエンドポイント**
  - スコア計算エンドポイント
  - バリデーション機能
  - エラーハンドリング

#### 5. 面接アシスト
- **質問生成エンジン**
  - 基本的な面接質問の生成
  - 候補者の経歴に基づく質問のカスタマイズ
- **評価支援機能**
  - 質問ごとの評価ポイント
  - 高評価・低評価の回答例
- **APIエンドポイント**
  - 質問生成エンドポイント
  - エラーハンドリング

#### 6. ステータス管理
- **標準ステータス**
  - 応募、書類選考、一次面接、二次面接、最終面接、内定、保留、不採用
  - 一覧表示機能
- **カスタムステータス**
  - 新規ステータスの追加
  - 編集機能
- **データベース連携**
  - PostgreSQLによるデータ永続化
  - Prisma ORMによるデータアクセス

#### 7. 他ATSプラグイン連携
- **候補者データ受信API**
  - `POST /api/poc/ats/candidate` エンドポイント
  - 基本情報（名前、メール、電話番号）の受信
  - 職務経歴書要約の受信
  - バリデーション機能
- **スコア返却API**
  - `POST /api/poc/ats/score` エンドポイント
  - 4軸スコアの返却
  - 総合スコアとランクの返却
  - 現在のステータスの返却
- **テスト用スクリプト**
  - curlコマンドによるAPIテスト
  - 実行可能なシェルスクリプト

### 🚧 実装中の機能

1. **React Context関連**
   - useContextの問題解決中
   - Providerの適切な実装

2. **UI/UX改善**
   - プログレスバーによる視覚的な表示
   - 自動調整機能（比例配分）の実装
   - レスポンシブデザインの改善

### 📋 今後の実装予定

1. **面接アシスト機能の拡張**
   - STAR形式の質問生成
   - カテゴリー別の質問（技術、カルチャー、実績、ポテンシャル、意欲）
   - 5段階評価とメモ機能の実装

2. **スコアリングロジックの詳細化**
   - スキル適合度の詳細計算（必須スキル70%、歓迎スキル30%）
   - カルチャーフィット度の重要度ベース計算
   - 実績度の役職ベース評価
   - ポテンシャルの学習意欲評価

3. **認証機能**
   - Firebase Authの導入
   - ロール管理（採用担当者・面接官・管理者）
   - セキュリティルールの実装

## 開発環境のセットアップ

1. リポジトリのクローン
```bash
git clone https://github.com/yasuuucchi/HireMate-NEW.git
cd HireMate-NEW
```

2. 依存関係のインストール
```bash
npm install
```

3. 環境変数の設定
```bash
# PostgreSQLの接続情報を設定
cp .env.example .env
# AIサービスの環境変数を設定（Gemini API Keyが必要）
cd ai-service && cp .env.example .env
# Gemini API Keyを.envファイルに設定
```

4. データベースのセットアップ
```bash
npx prisma migrate dev
```

5. サービスの起動
```bash
# AIマイクロサービスとデータベースを起動
docker-compose up -d
# Next.js開発サーバーを起動
npm run dev
```

## 技術スタック

- **フロントエンド**
  - Next.js 14
  - React
  - TypeScript
  - TailwindCSS

- **バックエンド**
  - Next.js API Routes
  - PostgreSQL
  - Prisma ORM

- **AIマイクロサービス**
  - FastAPI
  - Google Gemini 2.0-flash
  - Docker

- **予定**
  - Firebase Auth

## 開発への参加方法

1. このリポジトリをフォーク
2. 新しいブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
